<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Welcome</title>
  </head>
  <body>
    <div class="panel">
      <h1>dut_server_controll</h1>
      <label for="servo_1">Servo 1:</label>
      <input
        type="number"
        id="servo_1"
        name="servo_1"
        min="0"
        max="180"
        required
      /><br />
      <label for="servo_2">Servo 2:</label>
      <input
        type="number"
        id="servo_2"
        name="servo_2"
        min="0"
        max="180"
        required
      /><br />
      <label for="servo_3">Servo 3:</label>
      <input
        type="number"
        id="servo_3"
        name="servo_3"
        min="0"
        max="180"
        required
      /><br />
      <label for="servo_4">Servo 4:</label>
      <input
        type="number"
        id="servo_4"
        name="servo_4"
        min="0"
        max="180"
        required
      /><br />
      <label for="servo_5">Servo 5:</label>
      <input
        type="number"
        id="servo_5"
        name="servo_5"
        min="0"
        max="180"
        required
      /><br />
      <label for="servo_6">Servo 6:</label>
      <input
        type="number"
        id="servo_6"
        name="servo_6"
        min="0"
        max="180"
        required
      /><br />
    </div>

    <div class="panel">
      <h1>arm_server_controll</h1>
      <label for="arm_servo_1">Servo 1:</label>
      <input
        type="number"
        id="arm_servo_1"
        name="arm_servo_1"
        min="0"
        max="180"
        required
      /><br />
      <label for="arm_servo_2">Servo 2:</label>
      <input
        type="number"
        id="arm_servo_2"
        name="arm_servo_2"
        min="0"
        max="180"
        required
      /><br />
      <label for="arm_servo_3">Servo 3:</label>
      <input
        type="number"
        id="arm_servo_3"
        name="arm_servo_3"
        min="0"
        max="180"
        required
      /><br />
      <label for="arm_servo_4">Servo 4:</label>
      <input
        type="number"
        id="arm_servo_4"
        name="arm_servo_4"
        min="0"
        max="180"
        required
      /><br />
      <label for="arm_servo_5">Servo 5:</label>
      <input
        type="number"
        id="arm_servo_5"
        name="arm_servo_5"
        min="0"
        max="180"
        required
      /><br />
      <label for="arm_servo_6">Servo 6:</label>
      <input
        type="number"
        id="arm_servo_6"
        name="arm_servo_6"
        min="0"
        max="180"
        required
      /><br />
    </div>

    <div class="panel">
      <h1>step_server_controll</h1>
      <label for="real_position">移動至距離原點:</label>
      <input
        type="text"
        id="real_position"
        name="real_position"
        min="0"
        max="6"
        required
      />
    </div>

    <h1>unet_server_controll</h1>

    <input id="unet_on" type="radio" name="check_unet" value="unet_on" />
    <label for="unet_on">ON</label>
    <input id="unet_off" type="radio" name="check_unet" value="unet_off" />
    <label for="unet_off">OFF</label>

    <button onclick="Dashboard_Data(event)">送出</button>

    <script>
      async function Dashboard_Data(event) {
        event.preventDefault();

        // 获取所有表单数据
        const formData = new FormData();
        document.querySelectorAll("input").forEach((input) => {
          formData.append(input.name, input.value);
        });

        // 将表单数据转换为JSON对象
        const data = Object.fromEntries(formData.entries());

        // 发送AJAX请求到服务器
        try {
          const response = await fetch("/dashboard_data", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
          });

          if (response.ok) {
            // 成功后导航到下一页面
            window.location.href = "/dashboard";
          } else {
            console.error("Failed to submit data");
          }
        } catch (error) {
          console.error("Error:", error);
        }
      }
    </script>
  </body>
</html>
